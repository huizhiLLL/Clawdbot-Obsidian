# 学习笔记 - 2026-02-18

## 主题：SQL CRUD 操作

**分类：** SQL 基础  
**难度：** 初级

---

## 核心知识点

### 1. INSERT - 插入数据

**基本语法：**
```sql
INSERT INTO 表名 (列1, 列2, ...) VALUES (值1, 值2, ...);
```

**示例：**
```sql
-- 插入完整记录
INSERT INTO users (id, name, email, age) VALUES (1, '张三', 'zhangsan@example.com', 25);

-- 插入部分列（其他列使用默认值或 NULL）
INSERT INTO users (name, email) VALUES ('李四', 'lisi@example.com');

-- 一次插入多条记录
INSERT INTO users (name, email) VALUES
  ('王五', 'wangwu@example.com'),
  ('赵六', 'zhaoliu@example.com');
```

**注意事项：**
- 字符串和日期需要用单引号括起来
- 数值类型不需要引号
- 如果省略列名，必须为所有列提供值（按表结构顺序）

---

### 2. SELECT - 查询数据

**基本语法：**
```sql
SELECT 列1, 列2, ... FROM 表名;
```

**示例：**
```sql
-- 查询所有列
SELECT * FROM users;

-- 查询指定列
SELECT id, name, email FROM users;

-- 使用别名
SELECT name AS 姓名, email AS 邮箱 FROM users;

-- 去重
SELECT DISTINCT age FROM users;
```

**注意事项：**
- `*` 表示所有列，生产环境不建议使用（性能问题）
- 使用 AS 可以为列起别名
- DISTINCT 用于去除重复的行

---

### 3. UPDATE - 更新数据

**基本语法：**
```sql
UPDATE 表名 SET 列1 = 值1, 列2 = 值2, ... WHERE 条件;
```

**示例：**
```sql
-- 更新单个字段
UPDATE users SET email = 'new_email@example.com' WHERE id = 1;

-- 更新多个字段
UPDATE users SET age = 26, name = '张三丰' WHERE id = 1;

-- 批量更新（谨慎使用！）
UPDATE users SET status = 'active';
```

**注意事项：**
- ⚠️ **永远不要忘记 WHERE 子句**，否则会更新所有记录！
- 可以一次更新多个字段，用逗号分隔
- WHERE 子句可以使用多个条件（AND、OR）

---

### 4. DELETE - 删除数据

**基本语法：**
```sql
DELETE FROM 表名 WHERE 条件;
```

**示例：**
```sql
-- 删除指定记录
DELETE FROM users WHERE id = 1;

-- 根据条件删除
DELETE FROM users WHERE age < 18;

-- 删除所有记录（谨慎使用！）
DELETE FROM users;
```

**注意事项：**
- ⚠️ **永远不要忘记 WHERE 子句**，否则会删除所有记录！
- 删除操作不可恢复（除非有备份）
- 如果要删除表结构，使用 `DROP TABLE` 而非 `DELETE`

---

## 关联知识

### 与其他 SQL 操作的关系
- **WHERE 子句**：SELECT、UPDATE、DELETE 都可以使用 WHERE 来过滤数据
- **ORDER BY**：SELECT 查询后可以使用 ORDER BY 排序结果
- **LIMIT**：SELECT 可以用 LIMIT 限制返回的行数（MySQL、PostgreSQL、SQLite）
- **JOIN**：SELECT 可以结合 JOIN 查询多个表的数据

### 数据类型影响
- 插入/更新时，数据类型必须匹配表结构
- 字符串类型需要引号，数值类型不需要
- 日期时间类型需要特定的格式

---

## 练习题

### 练习 1：插入数据
创建一个 `products` 表，包含以下字段：
- id（整数，主键）
- name（字符串，产品名称）
- price（小数，价格）
- stock（整数，库存）

然后插入 3 条产品记录。

### 练习 2：查询练习
1. 查询所有产品，只显示名称和价格
2. 查询价格大于 100 的产品
3. 查询库存小于 10 的产品

### 练习 3：更新练习
1. 将 id 为 1 的产品价格修改为 99.99
2. 将所有库存为 0 的产品价格降低 10%

### 练习 4：删除练习
1. 删除 id 为 3 的产品
2. 删除库存为 0 且价格小于 50 的产品

---

## 延伸阅读

### 推荐学习资源
- [SQL 教程 - W3Schools](https://www.w3schools.com/sql/)
- [MySQL 官方文档](https://dev.mysql.com/doc/)
- [PostgreSQL 文档](https://www.postgresql.org/docs/)

### 下一步学习
- WHERE 子句详细用法（比较运算符、逻辑运算符）
- ORDER BY 排序
- JOIN 表连接
- GROUP BY 聚合查询

### 实践建议
1. 在本地安装 MySQL 或 PostgreSQL 进行练习
2. 使用 SQLite 作为轻量级选择
3. 尝试在实际项目中应用 CRUD 操作
4. 学习使用 ORM 框架（如 Sequelize、TypeORM）

---

## 学习总结

SQL CRUD 是数据库操作的核心，掌握 INSERT、SELECT、UPDATE、DELETE 四个基本命令是进行数据操作的基础。

**关键提醒：**
- UPDATE 和 DELETE 操作时，一定要检查 WHERE 子句
- 插入数据前，先了解表结构和数据类型
- 定期备份数据，避免误操作导致数据丢失

**学习进度：** 📝 进行中
