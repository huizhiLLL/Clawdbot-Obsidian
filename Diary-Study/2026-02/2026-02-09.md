📚 今日学习主题：Vue 模板语法 📚

📌 核心知识点

### Vue 模板语法概览

Vue 的模板语法基于 HTML，让你能够声明式地将数据绑定到 DOM。主要有三种语法：

1. **文本插值** - `{{ }}`
2. **指令** - `v-` 前缀的特殊属性
3. **JavaScript 表达式** - 在 `{{ }}` 和指令中使用

---

### 1. 文本插值（Mustache 语法）

使用双大括号 `{{ }}` 将数据渲染为文本：

```vue
<template>
  <div>
    <!-- 基本插值 -->
    <p>你好，{{ message }}</p>
    <!-- 输出：你好，Vue -->

    <!-- 支持表达式 -->
    <p>1 + 1 = {{ 1 + 1 }}</p>
    <!-- 输出：1 + 1 = 2 -->

    <!-- 调用方法 -->
    <p>反向：{{ message.split('').reverse().join('') }}</p>
    <!-- 输出：反向：euV -->

    <!-- 访问对象属性 -->
    <p>姓名：{{ user.name }}</p>
    <!-- 输出：姓名：会枝 -->
  </div>
</template>

<script setup>
const message = "Vue"
const user = { name: "会枝", age: 20 }
</script>
```

**注意：** `{{ }}` 只能渲染文本，不会解析 HTML 标签！

```vue
<!-- ❌ 这不会渲染 HTML -->
<p>{{ htmlContent }}</p>
<!-- 输出：<span style="color: red;">红色文字</span>（作为纯文本） -->

<!-- ✅ 使用 v-html 渲染 HTML -->
<p v-html="htmlContent"></p>
<!-- 输出：红色文字（红色的样式） -->
```

---

### 2. 常用指令

指令是带有 `v-` 前缀的特殊属性，用于在模板中应用响应式行为。

#### v-bind - 绑定属性

动态绑定一个或多个属性：

```vue
<template>
  <!-- 绑定 class -->
  <div v-bind:class="activeClass">动态 class</div>
  <!-- 简写： -->
  <div :class="activeClass">动态 class</div>

  <!-- 绑定 style -->
  <div :style="{ color: textColor, fontSize: fontSize + 'px' }">
    动态样式
  </div>

  <!-- 绑定 href -->
  <a :href="url">跳转链接</a>

  <!-- 绑定 src -->
  <img :src="imageSrc" alt="图片" />

  <!-- 绑定多个属性 -->
  <div v-bind="attrsObject">多个属性</div>
</template>

<script setup>
const activeClass = "highlight"
const textColor = "blue"
const fontSize = 16
const url = "https://example.com"
const imageSrc = "/images/logo.png"
const attrsObject = {
  id: "my-id",
  class: "container",
  style: "padding: 10px"
}
</script>
```

#### v-if / v-else-if / v-else - 条件渲染

根据条件显示或隐藏元素：

```vue
<template>
  <div>
    <p v-if="isLogin">欢迎回来！</p>
    <p v-else>请登录</p>

    <div v-if="score >= 90">优秀</div>
    <div v-else-if="score >= 60">及格</div>
    <div v-else>不及格</div>
  </div>
</template>

<script setup>
const isLogin = true
const score = 85
</script>
```

**注意：** `v-if` 是真正的条件渲染，元素会被销毁/重建。如果只是想切换显示隐藏，使用 `v-show`：

```vue
<p v-show="isVisible">可见内容</p>
<!-- 相当于：style="display: none;" -->
```

#### v-for - 列表渲染

基于数组或对象循环渲染：

```vue
<template>
  <!-- 数组遍历 -->
  <ul>
    <li v-for="(item, index) in fruits" :key="item.id">
      {{ index + 1 }}. {{ item.name }} - {{ item.price }} 元
    </li>
  </ul>

  <!-- 对象遍历 -->
  <ul>
    <li v-for="(value, key) in user" :key="key">
      {{ key }}: {{ value }}
    </li>
  </ul>

  <!-- 数字遍历 -->
  <span v-for="n in 5" :key="n">{{ n }} </span>
  <!-- 输出：1 2 3 4 5 -->
</template>

<script setup>
const fruits = [
  { id: 1, name: "苹果", price: 5 },
  { id: 2, name: "香蕉", price: 3 },
  { id: 3, name: "橙子", price: 4 }
]

const user = {
  name: "会枝",
  age: 20,
  major: "机械工程"
}
</script>
```

**重要：** `v-for` 必须配合 `:key` 使用，否则会有性能问题！

#### v-on - 事件监听

监听 DOM 事件：

```vue
<template>
  <!-- 基本用法 -->
  <button v-on:click="handleClick">点击我</button>
  <!-- 简写： -->
  <button @click="handleClick">点击我</button>

  <!-- 传递参数 -->
  <button @click="sayHello('会枝')">打招呼</button>

  <!-- 访问事件对象 -->
  <button @click="handleClick($event, '额外参数')">点击</button>

  <!-- 修饰符 -->
  <form @submit.prevent="handleSubmit">
    <!-- 阻止默认行为 -->
    <button type="submit">提交</button>
  </form>

  <input @keyup.enter="onEnter" />
  <!-- 按下回车键触发 -->

  <button @click.once="handleOnce">只触发一次</button>
</template>

<script setup>
const handleClick = () => {
  console.log("按钮被点击了！")
}

const sayHello = (name) => {
  console.log(`你好，${name}！`)
}

const handleSubmit = () => {
  console.log("表单已提交")
}

const onEnter = () => {
  console.log("回车键被按下")
}

const handleOnce = () => {
  console.log("这个按钮只会触发一次")
}
</script>
```

#### v-model - 双向绑定

在表单元素上创建双向数据绑定：

```vue
<template>
  <div>
    <!-- 文本输入 -->
    <input v-model="text" placeholder="输入文本" />
    <p>你输入的是：{{ text }}</p>

    <!-- 复选框 -->
    <input type="checkbox" v-model="checked" />
    <label>选中状态：{{ checked }}</label>

    <!-- 多个复选框绑定到数组 -->
    <input type="checkbox" value="Vue" v-model="frameworks" />
    <label>Vue</label>
    <input type="checkbox" value="React" v-model="frameworks" />
    <label>React</label>
    <input type="checkbox" value="Angular" v-model="frameworks" />
    <label>Angular</label>
    <p>已选择：{{ frameworks }}</p>

    <!-- 单选框 -->
    <input type="radio" value="male" v-model="gender" />
    <label>男</label>
    <input type="radio" value="female" v-model="gender" />
    <label>女</label>
    <p>性别：{{ gender }}</p>

    <!-- 下拉选择 -->
    <select v-model="selected">
      <option value="">请选择</option>
      <option value="A">选项 A</option>
      <option value="B">选项 B</option>
      <option value="C">选项 C</option>
    </select>
    <p>已选择：{{ selected }}</p>
  </div>
</template>

<script setup>
import { ref } from "vue"

const text = ref("")
const checked = ref(false)
const frameworks = ref([])
const gender = ref("")
const selected = ref("")
</script>
```

---

### 3. JavaScript 表达式

在模板中可以使用任何 JavaScript 表达式：

```vue
<template>
  <div>
    <!-- 算术运算 -->
    <p>1 + 2 = {{ 1 + 2 }}</p>

    <!-- 三元表达式 -->
    <p>{{ isAdult ? '成年人' : '未成年' }}</p>

    <!-- 方法调用 -->
    <p>{{ fullName() }}</p>

    <!-- 数组方法 -->
    <p>{{ numbers.map(n => n * 2).join(', ') }}</p>

    <!-- 对象访问 -->
    <p>{{ user.name.toUpperCase() }}</p>
  </div>
</template>

<script setup>
const isAdult = true
const fullName = () => "会枝"
const numbers = [1, 2, 3, 4, 5]
const user = { name: "会枝" }
</script>
```

**不支持：**
- ❌ 语句（如 `if`, `for`, `while`）
- ❌ 变量声明（如 `var`, `let`, `const`）

---

## 🎯 与个人背景/项目/热点的关联

### 你可能的应用场景

- **魔方网站**：动态显示魔方的状态、计时器、排行榜
- **导航站**：根据用户选择动态显示/隐藏分类
- **Bot 插件**：根据配置动态渲染表单和选项

### 实际应用示例

```vue
<!-- 示例 1：魔方计时器显示 -->
<template>
  <div>
    <h2>魔方计时器</h2>
    <p v-if="isTiming">计时中... {{ formatTime(elapsed) }}</p>
    <p v-else>准备开始</p>
    <button @click="toggleTimer">
      {{ isTiming ? '停止' : '开始' }}
    </button>
  </div>
</template>

<script setup>
import { ref } from "vue"

const isTiming = ref(false)
const elapsed = ref(0)

const toggleTimer = () => {
  isTiming.value = !isTiming.value
}

const formatTime = (ms) => {
  return (ms / 1000).toFixed(2)
}
</script>

<!-- 示例 2：导航站分类切换 -->
<template>
  <div>
    <div class="tabs">
      <button
        v-for="cat in categories"
        :key="cat.id"
        @click="activeCategory = cat.id"
        :class="{ active: activeCategory === cat.id }"
      >
        {{ cat.name }}
      </button>
    </div>

    <div class="content">
      <div
        v-for="link in filteredLinks"
        :key="link.id"
        class="link-card"
      >
        <a :href="link.url" target="_blank">{{ link.title }}</a>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, computed } from "vue"

const activeCategory = ref("all")

const categories = [
  { id: "all", name: "全部" },
  { id: "dev", name: "开发工具" },
  { id: "design", name: "设计" },
  { id: "study", name: "学习" }
]

const links = [
  { id: 1, title: "GitHub", url: "https://github.com", category: "dev" },
  { id: 2, title: "Figma", url: "https://figma.com", category: "design" },
  { id: 3, title: "MDN", url: "https://developer.mozilla.org", category: "study" }
]

const filteredLinks = computed(() => {
  if (activeCategory.value === "all") return links
  return links.filter(link => link.category === activeCategory.value)
})
</script>
```

---

## 🚀 快速练习（15 分钟）

### 练习 1：插值语法

补充下面的代码，让页面显示正确的信息：

```vue
<template>
  <div>
    <p>姓名：{{ ____ }}</p>  <!-- 应该显示：会枝 -->
    <p>年龄：{{ ____ }}</p>  <!-- 应该显示：20 -->
    <p>明年年龄：{{ ____ }}</p>  <!-- 应该显示：21 -->
  </div>
</template>

<script setup>
const name = "会枝"
const age = 20
</script>
```

**答案：**

```vue
<p>姓名：{{ name }}</p>
<p>年龄：{{ age }}</p>
<p>明年年龄：{{ age + 1 }}</p>
```

---

### 练习 2：条件渲染

完成下面的代码，根据分数显示不同的评语：

```vue
<template>
  <div>
    <p v-if="score >= 90">______</p>  <!-- 90分及以上 -->
    <p v-else-if="score >= 60">______</p>  <!-- 60-89分 -->
    <p v-else>______</p>  <!-- 60分以下 -->
  </div>
</template>

<script setup>
const score = 75
</script>
```

**答案：**

```vue
<p v-if="score >= 90">优秀！</p>
<p v-else-if="score >= 60">及格，继续努力！</p>
<p v-else>需要加油！</p>
```

---

### 练习 3：列表渲染

渲染一个待办事项列表，并添加删除功能：

```vue
<template>
  <div>
    <ul>
      <li v-for="(todo, index) in todos" :key="todo.id">
        {{ todo.text }}
        <button @click="______">删除</button>  <!-- 填入正确的表达式 -->
      </li>
    </ul>
  </div>
</template>

<script setup>
import { ref } from "vue"

const todos = ref([
  { id: 1, text: "学习 Vue" },
  { id: 2, text: "完成作业" },
  { id: 3, text: "复习知识点" }
])

const removeTodo = (index) => {
  todos.value.splice(index, 1)
}
</script>
```

**答案：**

```vue
<button @click="removeTodo(index)">删除</button>
```

---

## 📚 延伸阅读

1. [Vue 官方文档 - 模板语法](https://cn.vuejs.org/guide/essentials/template-syntax.html)
2. [Vue 教程 - 条件渲染](https://cn.vuejs.org/guide/essentials/conditional.html)
3. [Vue 教程 - 列表渲染](https://cn.vuejs.org/guide/essentials/list.html)

---

## 💡 学习建议

1. **5 分钟**：阅读上面的核心知识点
2. **5 分钟**：完成三个练习题
3. **5 分钟**：创建一个新的 Vue 组件，尝试使用不同的模板语法
4. **晚上 10 点**：我会问你的学习进度，准备好回答！

---

## 🤔 每日测验（晚上 22:00）

### 1. 今天学了什么主题？
[请在此填写]

### 2. 有什么收获？
[请在此填写]

### 3. 有什么疑问吗？
[请在此填写]

### 4. 完成了 demo 吗？
[请在此填写]

---

**📝 填写完请回复"填完了"，我会检查你的答案并更新总结。**
