# å­¦ä¹ æ—¥è®° - 2026-02-06

## ä¸»é¢˜ï¼šJS å¼‚æ­¥ç¼–ç¨‹åŸºç¡€

### ğŸ“š æ ¸å¿ƒçŸ¥è¯†ç‚¹

#### 1. ç†è§£åŒæ­¥ä¸å¼‚æ­¥

**åŒæ­¥ï¼ˆSynchronousï¼‰**
```javascript
console.log("1");
console.log("2");
console.log("3");
// è¾“å‡º: 1 â†’ 2 â†’ 3
```

**å¼‚æ­¥ï¼ˆAsynchronousï¼‰**
```javascript
console.log("1");
setTimeout(() => console.log("2"), 1000);
console.log("3");
// è¾“å‡º: 1 â†’ 3 â†’ 2 (2ä¼šåœ¨1ç§’åè¾“å‡º)
```

**å…³é”®æ¦‚å¿µï¼š**
- åŒæ­¥ä»£ç æŒ‰é¡ºåºæ‰§è¡Œï¼Œå‰ä¸€ä¸ªä»»åŠ¡å®Œæˆåæ‰æ‰§è¡Œä¸‹ä¸€ä¸ª
- å¼‚æ­¥ä»£ç ä¸ä¼šé˜»å¡åç»­ä»£ç çš„æ‰§è¡Œï¼Œåœ¨åå°è¿è¡Œ

#### 2. Promise åŸºç¡€

**åˆ›å»º Promise**
```javascript
const myPromise = new Promise((resolve, reject) => {
  // æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œ
  setTimeout(() => {
    const success = Math.random() > 0.5;
    if (success) {
      resolve("æ“ä½œæˆåŠŸï¼");
    } else {
      reject("æ“ä½œå¤±è´¥ï¼");
    }
  }, 1000);
});
```

**ä½¿ç”¨ Promiseï¼ˆthen/catchï¼‰**
```javascript
myPromise
  .then(result => {
    console.log(result); // "æ“ä½œæˆåŠŸï¼"
  })
  .catch(error => {
    console.error(error); // "æ“ä½œå¤±è´¥ï¼"
  });
```

**Promise ä¸‰ç§çŠ¶æ€ï¼š**
- **Pending**ï¼ˆç­‰å¾…ä¸­ï¼‰ï¼šåˆå§‹çŠ¶æ€
- **Fulfilled**ï¼ˆå·²æˆåŠŸï¼‰ï¼šresolve è¢«è°ƒç”¨
- **Rejected**ï¼ˆå·²å¤±è´¥ï¼‰ï¼šreject è¢«è°ƒç”¨

#### 3. async/await è¯­æ³•

**async å‡½æ•°**
```javascript
async function fetchData() {
  return "æ•°æ®å·²è·å–";
}

// async å‡½æ•°è¿”å›ä¸€ä¸ª Promise
fetchData().then(data => console.log(data));
```

**await å…³é”®å­—**
```javascript
async function main() {
  console.log("å¼€å§‹");

  // await ä¼šæš‚åœå‡½æ•°æ‰§è¡Œï¼Œç›´åˆ° Promise è§£å†³
  const result = await new Promise(resolve => {
    setTimeout(() => resolve("å®Œæˆ"), 1000);
  });

  console.log(result); // 1ç§’åè¾“å‡º: "å®Œæˆ"
  console.log("ç»“æŸ");
}

main();
```

**é”™è¯¯å¤„ç†**
```javascript
async function main() {
  try {
    const result = await myPromise;
    console.log(result);
  } catch (error) {
    console.error("å‡ºé”™äº†:", error);
  }
}
```

#### 4. å®é™…åº”ç”¨åœºæ™¯

**æ¨¡æ‹Ÿ API è¯·æ±‚**
```javascript
// æ¨¡æ‹Ÿè·å–ç”¨æˆ·æ•°æ®
function fetchUser(id) {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      if (id === 1) {
        resolve({ id: 1, name: "ä¼šæ", age: 20 });
      } else {
        reject(new Error("ç”¨æˆ·ä¸å­˜åœ¨"));
      }
    }, 500);
  });
}

// ä½¿ç”¨ async/await
async function getUserInfo() {
  try {
    const user = await fetchUser(1);
    console.log(user); // { id: 1, name: "ä¼šæ", age: 20 }
  } catch (error) {
    console.error(error.message);
  }
}

getUserInfo();
```

### ğŸ”— å…³è”çŸ¥è¯†

- **äº‹ä»¶å¾ªç¯**ï¼šJavaScript å¼‚æ­¥æœºåˆ¶çš„åº•å±‚åŸç†
- **å›è°ƒåœ°ç‹±**ï¼šPromise è§£å†³çš„é—®é¢˜
- **fetch API**ï¼šç°ä»£æµè§ˆå™¨è¿›è¡Œ HTTP è¯·æ±‚çš„æ ‡å‡†æ–¹æ³•
- **Vue å¼‚æ­¥ç»„ä»¶**ï¼š`defineAsyncComponent()` ä½¿ç”¨ Promise

### ğŸ’» ç»ƒä¹ 

1. **åŸºç¡€ç»ƒä¹ ï¼šåˆ›å»º Promise**
   ```javascript
   // åˆ›å»ºä¸€ä¸ª Promiseï¼Œ2ç§’åè¿”å›ä¸€ä¸ªéšæœºæ•°
   // ç„¶åä½¿ç”¨ then/catch å¤„ç†ç»“æœ
   ```

2. **è¿›é˜¶ç»ƒä¹ ï¼šasync/await**
   ```javascript
   async function waitAndPrint(message, delay) {
     // ä½¿ç”¨ await å®ç°ï¼šç­‰å¾… delay æ¯«ç§’åæ‰“å° message
   }

   // æµ‹è¯•
   await waitAndPrint("Hello", 1000); // 1ç§’åè¾“å‡º "Hello"
   await waitAndPrint("World", 2000); // å†2ç§’åè¾“å‡º "World"
   ```

3. **å®æˆ˜ç»ƒä¹ ï¼šé¡ºåºæ‰§è¡Œ**
   ```javascript
   // æ¨¡æ‹Ÿä¸‰ä¸ªå¼‚æ­¥æ“ä½œï¼ŒæŒ‰é¡ºåºæ‰§è¡Œå¹¶æ”¶é›†ç»“æœ
   function step1() {
     return Promise.resolve("æ­¥éª¤1å®Œæˆ");
   }

   function step2(data) {
     return Promise.resolve(`${data} â†’ æ­¥éª¤2å®Œæˆ`);
   }

   function step3(data) {
     return Promise.resolve(`${data} â†’ æ­¥éª¤3å®Œæˆ`);
   }

   // ä½¿ç”¨ async/await æˆ– then é“¾å¼è°ƒç”¨ï¼ŒæŒ‰é¡ºåºæ‰§è¡Œ
   ```

### ğŸ“– å»¶ä¼¸é˜…è¯»

- MDN: [Promise](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise)
- MDN: [async function](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/async_function)
- MDN: [await](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/await)
- JavaScript.info: [Promise](https://zh.javascript.info/promise-basics)

---

**ğŸ’¡ æ™šä¸Šæµ‹éªŒæ—¶é—´ï¼š22:00**

è®°å¾—å®Œæˆä¸Šé¢çš„ç»ƒä¹ ï¼Œå‡†å¤‡å›ç­”æµ‹éªŒé—®é¢˜ï¼
