# 2026-02-03 - JS 函数基础

📌 核心知识点

### 1. 函数声明

函数声明是最基本的函数定义方式：

```javascript
// 函数声明
function greet(name) {
  return `Hello, ${name}!`;
}

// 调用函数
console.log(greet('会枝')); // "Hello, 会枝!"
```

**特点：**
- 使用 `function` 关键字
- 函数名可以被提升（可以在声明前调用）

### 2. 箭头函数

ES6 引入的简洁写法：

```javascript
// 基本语法
const greet = (name) => `Hello, ${name}!`;

// 单参数时可以省略括号
const square = x => x * x;

// 无参数时需要括号
const sayHello = () => console.log('Hello!');

// 多行函数体需要大括号和 return
const add = (a, b) => {
  const result = a + b;
  return result;
};
```

**特点：**
- 语法简洁
- 没有 `this` 绑定（继承外层作用域）
- 不能用作构造函数

### 3. 函数参数

**默认参数：**
```javascript
function greet(name = '朋友') {
  console.log(`Hello, ${name}!`);
}

greet(); // "Hello, 朋友!"
greet('会枝'); // "Hello, 会枝!"
```

**剩余参数（Rest Parameters）：**
```javascript
function sum(...numbers) {
  return numbers.reduce((total, num) => total + num, 0);
}

console.log(sum(1, 2, 3)); // 6
console.log(sum(1, 2, 3, 4, 5)); // 15
```

**解构参数：**
```javascript
function createUser({ name, age, isAdmin = false }) {
  return { name, age, isAdmin };
}

console.log(createUser({ name: '会枝', age: 20 }));
// { name: '会枝', age: 20, isAdmin: false }
```

### 4. 返回值

```javascript
// 显式返回
function add(a, b) {
  return a + b;
}

// 隐式返回（箭头函数单行表达式）
const multiply = (a, b) => a * b;

// 返回对象（需要括号）
const createPerson = (name) => ({ name, id: Date.now() });

// 没有返回值时返回 undefined
function log(message) {
  console.log(message);
}
console.log(log('test')); // undefined
```

---

## 🎯 与个人背景/项目/热点的关联

### 你的场景

作为魔方相关网站开发者，函数是必不可少的工具：

**事件处理：**
```javascript
// 在 Vue 组件中处理点击事件
const handleCubeClick = (cubeId) => {
  console.log(`点击了魔方: ${cubeId}`);
  // 更新状态、发送请求等
};
```

**数据处理：**
```javascript
// 过滤魔方数据
const filterCubes = (cubes, minPrice) => {
  return cubes.filter(cube => cube.price >= minPrice);
};
```

**API 调用：**
```javascript
// 获取魔方信息
async function getCubeInfo(cubeId) {
  const response = await fetch(`/api/cubes/${cubeId}`);
  return response.json();
}
```

### 应用示例

**魔方计时器函数：**
```javascript
// 格式化时间
function formatTime(ms) {
  const seconds = Math.floor(ms / 1000);
  const minutes = Math.floor(seconds / 60);
  const centiseconds = Math.floor((ms % 1000) / 10);
  
  return `${minutes.toString().padStart(2, '0')}:${(seconds % 60).toString().padStart(2, '0')}.${centiseconds.toString().padStart(2, '0')}`;
}

console.log(formatTime(12546)); // "00:12.54"
console.log(formatTime(65320)); // "01:05.32"
```

---

## 🚀 快速练习（15 分钟）

### 练习 1：默认参数

创建一个函数 `calculatePrice(price, discount = 0.1)`，返回折扣后的价格。

**答案：**
```javascript
function calculatePrice(price, discount = 0.1) {
  return price * (1 - discount);
}

console.log(calculatePrice(100)); // 90
console.log(calculatePrice(100, 0.2)); // 80
```

### 练习 2：箭头函数

将下面的函数改写为箭头函数：
```javascript
function isEven(number) {
  return number % 2 === 0;
}
```

**答案：**
```javascript
const isEven = number => number % 2 === 0;

console.log(isEven(4)); // true
console.log(isEven(5)); // false
```

### 练习 3：剩余参数

创建一个函数 `getMax(...numbers)`，返回所有数字中的最大值。

**答案：**
```javascript
const getMax = (...numbers) => Math.max(...numbers);

console.log(getMax(1, 5, 3, 9, 2)); // 9
console.log(getMax(10, 20, 30)); // 30
```

---

## 📚 延伸阅读

1. [MDN - 函数](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Functions)
2. [MDN - 箭头函数](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions)
3. [JavaScript 函数详解](https://javascript.info/function-basics)

---

## 💡 学习建议

1. **5 分钟**：阅读核心知识点，理解函数声明和箭头函数的区别
2. **5 分钟**：完成练习题，熟悉参数和返回值的使用
3. **5 分钟**：在你的魔方项目中练习使用函数处理数据
4. **晚上 10 点**：我会问你的学习进度

---

## 🤔 每日测验（2026-02-03 晚上 22:00）

### 1. 今天学了什么主题？
[请在此填写]

### 2. 有什么收获？
[请在此填写]

### 3. 有什么疑问吗？
[请在此填写]

### 4. 完成了 demo 吗？
[请在此填写]

---

**📝 填写完请回复"填完了"，我会检查你的答案并更新总结。**
